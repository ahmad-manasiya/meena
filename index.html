<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meena Collection | Shopping Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: 'Roboto', Arial, sans-serif; margin: 0; background-color: #f1f3f6; }
        
        /* Header Styling - UI SAME RAKHI HAI */
        .header { background: #2874f0; padding: 10px 10%; display: flex; align-items: center; position: sticky; top: 0; z-index: 1000; justify-content: space-between; height: 55px; box-sizing: border-box; }
        
        .logo-section { display: flex; flex-direction: column; cursor: pointer; text-decoration: none; }
        .logo { font-size: 20px; font-weight: bold; font-style: italic; color: white; line-height: 1; }
        .logo span { color: #ffe500; font-size: 11px; font-weight: bold; margin-top: 2px; }

        .search-container { flex: 1; position: relative; max-width: 550px; margin: 0 30px; }
        .search-container input { width: 100%; padding: 10px 40px 10px 15px; border: none; border-radius: 2px; outline: none; font-size: 14px; }
        .search-container i { position: absolute; right: 12px; top: 11px; color: #2874f0; cursor: pointer; }

        .header-right { display: flex; align-items: center; gap: 25px; color: white; }
        .login-btn { background: white; color: #2874f0; padding: 5px 35px; border-radius: 2px; cursor: pointer; font-weight: bold; border: none; font-size: 15px; }
        
        /* Dropdown Improved */
        .dropdown { position: relative; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 5px; height: 100%; }
        .dropdown-content { 
            display: none; 
            position: absolute; 
            background-color: white; 
            min-width: 180px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
            z-index: 1000; 
            right: 0; 
            top: 35px; 
            border-radius: 4px; 
            overflow: hidden;
        }
        .dropdown:hover .dropdown-content { display: block; } 
        
        .dropdown-content p { color: #212121; padding: 12px 16px; margin: 0; border-bottom: 1px solid #f0f0f0; font-size: 14px; display: flex; align-items: center; gap: 12px; font-weight: normal; }
        .dropdown-content p:hover { background-color: #f5faff; color: #2874f0; }

        .cart-icon { display: flex; align-items: center; gap: 8px; cursor: pointer; position: relative; font-weight: bold; text-decoration: none; color: white; }
        
        /* Cart Count Style - Iski ID aur Class important hai */
        #cartCount { 
            background: #ff6161; 
            color: white; 
            padding: 1px 6px; 
            border-radius: 50%; 
            font-size: 11px; 
            position: absolute; 
            top: -10px; 
            left: 10px; 
            border: 1px solid white; 
            display: none; /* JS will show this when count > 0 */
        }

        /* Main Content */
        .main-content { padding: 10px 10%; }
        .section-title { background: white; padding: 15px 20px; border-bottom: 1px solid #f0f0f0; margin-top: 10px; display: flex; justify-content: space-between; align-items: center; }
        
        #productGrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; padding: 20px 0; }
        
        /* User Profile Display Style */
        .user-name-display { color: white; font-weight: bold; display: flex; align-items: center; gap: 5px; }
    </style>
</head>
<body>

    <header class="header">
        <a href="index.html" class="logo-section">
            <div class="logo">MeenaCollection</div>
            <span>Explore <span style="color: #ffe500;">Plus</span> <i class="fa fa-plus" style="font-size: 10px; color: #ffe500;"></i></span>
        </a>

        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search for products, sarees and more" onkeyup="filterProducts()">
            <i class="fa fa-search" onclick="filterProducts()"></i>
        </div>

        <div class="header-right">
            <div id="authSection">
                <button class="login-btn" onclick="location.href='login.html'">Login</button>
            </div>

            <div class="dropdown">
                <span onclick="toggleMenu('moreMenu')">More <i class="fa fa-chevron-down" style="font-size: 10px;"></i></span>
                <div id="moreMenu" class="dropdown-content">
                    <p onclick="location.href='orders.html'"><i class="fa fa-box"></i> My Orders</p>
                    <p onclick="location.href='help.html'"><i class="fa fa-headset"></i> Customer Care</p>
                    <p onclick="location.href='about.html'"><i class="fa fa-info-circle"></i> About Us</p>
                </div>
            </div>

            <div class="cart-icon" onclick="location.href='cart.html'">
                <i class="fa fa-shopping-cart"></i>
                <span>Cart</span>
                <span id="cartCount" class="cart-count">0</span>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="section-title">
            <h2 style="font-size: 20px; margin: 0;">Trending Collection</h2>
            <button style="background:#2874f0; color:white; border:none; padding:8px 20px; border-radius:2px; cursor:pointer; font-weight:bold;">VIEW ALL</button>
        </div>

        <div id="productGrid">
            <div style="grid-column: 1/-1; text-align: center; padding: 100px;">
                <i class="fa fa-spinner fa-spin" style="font-size: 30px; color: #2874f0;"></i>
                <p>Connecting to Database...</p>
            </div>
        </div>
    </div>

    <script src="js/shop-logic.js"></script>
    <script src="js/cart.js"></script>

    <script>
        // UI Check: Agar user login hai toh button ki jagah naam dikhao
        function updateAuthUI() {
            const userName = localStorage.getItem('userName');
            const authSection = document.getElementById('authSection');
            if (userName && authSection) {
                authSection.innerHTML = `<div class="user-name-display"><i class="fa fa-user-circle"></i> ${userName}</div>`;
            }
        }

        // Jab page load ho tab UI aur Badge dono ko refresh karein
        document.addEventListener('DOMContentLoaded', () => {
            updateAuthUI();
            if (typeof updateCartBadge === "function") {
                updateCartBadge();
            }
        });

        // Aapka more menu function (Dropdown ke liye)
        function toggleMenu(menuId) {
            const menu = document.getElementById(menuId);
            if (menu.style.display === "block") {
                menu.style.display = "none";
            } else {
                menu.style.display = "block";
            }
        }
    </script>
</body>
</html>